{"componentChunkName":"component---src-components-post-content-tsx","path":"/posts/2/","result":{"data":{"markdownRemark":{"html":"<p>powershell教程:<a href=\"https://learn.microsoft.com/zh-cn/powershell/scripting/learn/ps101/01-getting-started?view=powershell-7.4\">https://learn.microsoft.com/zh-cn/powershell/scripting/learn/ps101/01-getting-started?view=powershell-7.4</a></p>\n<h1>安装</h1>\n<p><a href=\"https://golang.google.cn/doc/install\">下载golang安装包</a>\r\n安装好后打开powershell,然后输入</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">go version\r\n<span class=\"token comment\"># 结果类似于go version go1.22.0 windows/amd64</span></code></pre></div>\n<h1>打开模块管理,换源</h1>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 启用 Go Modules 功能</span>\r\ngo <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span> <span class=\"token assign-left variable\">GO111MODULE</span><span class=\"token operator\">=</span>on\r\n\r\n<span class=\"token comment\"># 七牛 CDN</span>\r\ngo <span class=\"token function\">env</span> <span class=\"token parameter variable\">-w</span>  <span class=\"token assign-left variable\">GOPROXY</span><span class=\"token operator\">=</span>https://goproxy.cn,direct</code></pre></div>\n<h1>hello world</h1>\n<p>在powershell中分别输入</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> D: <span class=\"token comment\"># 切换到D盘</span>\r\n\r\n<span class=\"token function\">mkdir</span> <span class=\"token builtin class-name\">test</span><span class=\"token punctuation\">;</span><span class=\"token builtin class-name\">cd</span> <span class=\"token builtin class-name\">test</span> <span class=\"token comment\"># 或把test替换成其他的</span>\r\n\r\n<span class=\"token comment\"># 创建工作区</span>\r\ngo work init \r\n\r\n<span class=\"token comment\"># 创建模块</span>\r\n<span class=\"token function\">mkdir</span> module1<span class=\"token punctuation\">;</span><span class=\"token builtin class-name\">cd</span> module1 <span class=\"token comment\"># 或把module1替换成其他的</span>\r\ngo mod init test/module1\r\ngo mod tidy\r\n\r\n<span class=\"token comment\"># 打开文件，如果提示未创建，点击创建</span>\r\nnotepad module1.go</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">//module1.go</span>\r\n<span class=\"token keyword\">package</span> module1\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\r\n<span class=\"token keyword\">func</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello,world\"</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>然后在powershell中输入</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span> <span class=\"token comment\">#回退上级目录</span>\r\ngo work use module1 <span class=\"token comment\">#添加模块</span>\r\nnotepad main.go <span class=\"token comment\">#创建main.go</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">// main.go</span>\r\n<span class=\"token keyword\">package</span> main\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"test/module1\"</span>\r\n\r\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\tmodule1<span class=\"token punctuation\">.</span><span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token comment\">//go run main.go结果hello,world</span></code></pre></div>\n<h1>web后端</h1>\n<p><a href=\"https://gin-gonic.com/\">gin</a>快速的go语言web框架</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># 如果不在module1文件夹中，powershell输入</span>\r\n<span class=\"token builtin class-name\">cd</span> D:/test/module1\r\ngo get <span class=\"token parameter variable\">-u</span> github.com/gin-gonic/gin <span class=\"token comment\">#安装gin</span>\r\nnotepad module1.go</code></pre></div>\n<p>然后替换刚才的内容</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token comment\">//module1.go</span>\r\n<span class=\"token keyword\">package</span> module1\r\n\r\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/gin-gonic/gin\"</span>\r\n\r\n<span class=\"token keyword\">func</span> <span class=\"token function\">Hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\tr <span class=\"token operator\">:=</span> gin<span class=\"token punctuation\">.</span><span class=\"token function\">Default</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n\tr<span class=\"token punctuation\">.</span><span class=\"token function\">GET</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span>c <span class=\"token operator\">*</span>gin<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\tc<span class=\"token punctuation\">.</span><span class=\"token function\">JSON</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">,</span> gin<span class=\"token punctuation\">.</span>H<span class=\"token punctuation\">{</span>\r\n\t\t\t<span class=\"token string\">\"message\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"hello,world\"</span><span class=\"token punctuation\">,</span>\r\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\r\n\tr<span class=\"token punctuation\">.</span><span class=\"token function\">Run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token comment\">// cd ..;go run main.go,访问127.0.0.1:8080</span>\r\n<span class=\"token comment\">// 结果{\"message\": \"hello,world\"}</span></code></pre></div>\n<div style=\"color: red;\">如果弹出防火墙请点击允许！！！</div>\n<p>powershell输出</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.\r\n\r\n[GIN-debug] [WARNING] Running in \"debug\" mode. Switch to \"release\" mode in production.\r\n - using env:   export GIN_MODE=release\r\n - using code:  gin.SetMode(gin.ReleaseMode)\r\n\r\n[GIN-debug] GET    /                         --> test/module1.Hello.func1 (3 handlers)\r\n[GIN-debug] [WARNING] You trusted all proxies, this is NOT safe. We recommend you to set a value.\r\nPlease check https://pkg.go.dev/github.com/gin-gonic/gin#readme-don-t-trust-all-proxies for details.\r\n[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default\r\n[GIN-debug] Listening and serving HTTP on :8080\r\n[GIN] 2024/03/10 - 14:35:59 | 200 |            0s |       127.0.0.1 | GET      \"/\"</code></pre></div>","frontmatter":{"date":"2024-2-8","id":"2","title":"golang快速安装","tags":["golang"]}}},"pageContext":{"id":"2","prev":{"frontmatter":{"id":"1","tags":["日常"],"title":"你好,世界"}},"next":null}},"staticQueryHashes":["105608136","1308686189","212963570","3164801646"],"slicesMap":{}}